{
  "id": null,
  "uid": "sys-overview",
  "title": "System Overview",
  "tags": ["lab", "monitoring"],
  "timezone": "browser",
  "schemaVersion": 36,
  "version": 1,
  "refresh": "10s",
  "panels": [
    {
      "type": "timeseries",
      "title": "CPU Usage (InfluxDB)",
      "targets": [
        {
          "datasource": {"type": "influxdb", "uid": "InfluxDB"},
          "query": "from(bucket:\"metrics\") |> range(start: -5m) |> filter(fn: (r) => r._measurement == \"zabbix_metric\" and r.key == \"system.cpu.util\") |> mean()"
        }
      ],
      "fieldConfig": {
        "defaults": {"unit": "percent"},
        "overrides": []
      },
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0}
    },
    {
      "type": "timeseries",
      "title": "Memory Usage (Zabbix)",
      "targets": [
        {
          "datasource": {"type": "alexanderzobnin-zabbix-datasource", "uid": "Zabbix"},
          "group": {"filter": "/.*/"},
          "host": {"filter": "/.*/"},
          "item": {"filter": "Memory utilization"},
          "functions": [{"name": "avg", "params": ["1m"]}]
        }
      ],
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0}
    }
  ]
}

